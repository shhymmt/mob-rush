# ゲームデザインドキュメント: Mob Rush

## 概要

### 作りたいもの

Mob Controlにインスパイアされたモバイルハイパーカジュアルゲーム。プレイヤーは大砲からユニットを発射し、乗算ゲートを通過させて軍団を増やし、敵の基地を制圧する。

### 背景

- **自分**: 27歳、Webエンジニア（TypeScript/React歴3年）
- **ゲーム開発経験**: ゼロ。ゲームはたくさんプレイしたけど、作ったことはない。
- **なぜこのゲーム**: スマホでMob Controlをプレイして「これなら自分でも作れそう」と思った。たぶん甘い考えだけど。

---

## 参考ゲーム: Mob Control（検証済み情報）

### 基本情報

| 項目 | 詳細 | 出典 |
|------|------|------|
| 開発 | Mambo Studio（Voodoo傘下） | [MAF Analysis](https://maf.ad/en/blog/mob-control-analysis-hybrid-casual/) |
| パブリッシャー | Voodoo | [App Store](https://apps.apple.com/us/app/mob-control/id1562817072) |
| リリース | 2021年4月13日（iOS/Android）、2024年5月20日（Steam） | [Udonis](https://www.blog.udonis.co/mobile-marketing/mobile-games/mob-control) |
| エンジン | Unity | [Voodoo求人情報](https://builtin.com/job/senior-game-developer-player-experience-game-feel-mob-control/7328392) |
| ジャンル | ハイパーカジュアルから始まり、ハイブリッドカジュアルに進化 | [Gamigion](https://www.gamigion.com/from-hyper-to-hybrid-casual-mob-control-playbook/) |

### パフォーマンス（2025年）

| 指標 | 値 | 出典 |
|------|-----|------|
| 総ダウンロード数 | 2億5000万以上 | [Udonis](https://www.blog.udonis.co/mobile-marketing/mobile-games/mob-control) |
| デイリーアクティブユーザー | 約150万人 | [Udonis](https://www.blog.udonis.co/mobile-marketing/mobile-games/mob-control) |
| 月間アクティブユーザー | 約800万人 | [Udonis](https://www.blog.udonis.co/mobile-marketing/mobile-games/mob-control) |
| 総収益 | 6800万ドル以上 | [MAF Analysis](https://maf.ad/en/blog/mob-control-analysis-hybrid-casual/) |
| 月間収益 | 200〜250万ドル | [MAF Analysis](https://maf.ad/en/blog/mob-control-analysis-hybrid-casual/) |
| 収益内訳 | 広告85%、IAP 15% | [PocketGamer](https://www.pocketgamer.biz/mob-control-hybridising-a-hypercasual-hit/) |

### コアメカニクス

プレイヤーは棒人間ユニットを乗算ゲート（×2、×3など）に撃ち込んで群衆を増やし、敵基地を攻撃する。赤い敵はプレイヤーのユニットを減らすため、避けるか押し返す必要がある。

### 進化（2021年 → 2024年）

ゲームはハイパーカジュアルの起源から大きく進化した：

| 観点 | 2021年（ローンチ時） | 2024年（現在） |
|------|---------------------|----------------|
| ビジュアル | 汎用的、低品質 | 洗練されたユニークなアセット |
| ゲームプレイ | シンプル、反復的 | 新モード、要素が段階的に導入 |
| ライブイベント | なし | トーナメント、シーズンイベント、IPコラボ（トランスフォーマー） |
| メタ | 基本的なアップグレード | カードコレクターメタゲーム（キャノン、チャンピオン、モブ、アルティメット） |
| チーム規模 | 4人 | 12人 |
| 月間IAP | 約1万ドル | 30〜40万ドル以上 |

### 参考にすべき主要機能

1. **乗算ゲート**: ×2、×3、×5など - コアの「数字が増える」メカニクス
2. **チャンピオンシステム**: 敵の群衆を突破する特殊ユニット
3. **キャノンアップグレード**: 異なる発射パターンと能力
4. **ベースビルダー**: 2024年に追加、LTV約20%向上
5. **フェイクPvP**: 説得力のあるアバターと絵文字リアクションを持つAI対戦相手

---

## なぜMob Controlを参考に？

初めてのゲームプロジェクトとして良い理由：

| 観点 | 学習に適している理由 |
|------|---------------------|
| シンプルな操作 | タップ/長押しで発射するだけ - 複雑な入力処理が不要 |
| 明確なフィードバック | 数字が増える = ドーパミン。満足感を作りやすい |
| 最小限のアート | 棒人間や色付きの丸で十分 |
| 段階的な複雑さ | 1体から始めて、後から機能追加できる |
| 同じエンジン | Mob ControlはUnity、私たちもUnity - 直接参照可能 |
| 実績のある成功 | 2億5000万以上のダウンロードがコアメカニクスを検証 |

### コアループ

> **⚠️ 2025-01-17 修正**: 当初の設計では静的な敵基地のみでしたが、
> Mob Controlの実際のゲーム性を調査した結果、コアメカニクスが異なることが判明。
> 以下は修正後の正しいコアループです。

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│               [敵タワー/基地]                            │
│                      │                                  │
│                      ▼ (赤い敵をスポーン)                │
│                   ●●●●● (赤)                            │
│                      │                                  │
│                      ▼                                  │
│   [×2 ゲート]  ←─── バトルゾーン ───→  [×3 ゲート]      │
│       │           (青 vs 赤)              │              │
│       │          1:1 で相殺              │              │
│       ▼              ↑                   ▼              │
│   [青ユニット] ─────┘                [青ユニット]        │
│        ↑                                  ↑             │
│        └──────────┬───────────────────────┘             │
│                   │                                     │
│              [大砲] ← プレイヤーが方向を操作             │
│                                                         │
│   勝利: 青ユニットが敵タワーに到達して破壊              │
│   敗北: 赤い敵が画面下に到達                            │
│                                                         │
└─────────────────────────────────────────────────────────┘

戦闘: 青1体 + 赤1体 = 両方消滅（相殺）
戦略: ゲートで増やして数で押し勝つ
```

---

## 主要機能

### P0: 最小限のプレイ可能なゲーム

> **⚠️ 2025-01-17 修正**: 当初のP0には「敵ユニット」と「キャノン操作」が
> 含まれていませんでしたが、これらはMob Controlのコア体験に必須です。

| 機能 | 説明 |
|------|------|
| ユニット生成 | タップ/長押しで大砲からユニットを生成 |
| **キャノン操作** | **ドラッグ/スワイプで大砲の向きを変更** |
| ユニット移動 | ユニットは狙った方向に移動 |
| 乗算ゲート | ×2、×3などユニットを増殖させるゲート |
| **赤い敵** | **敵タワーから赤ユニットがスポーンして向かってくる** |
| **1対1戦闘** | **青 vs 赤 で相殺（両方消滅）** |
| 敵タワー | 敵ユニットの発生源、破壊で勝利 |
| 勝敗判定 | 敵タワー破壊で勝利、敵が下に到達で敗北 |

### P1: ゲームフィール

| 機能 | 説明 |
|------|------|
| 視覚的フィードバック | パーティクル、画面揺れ、数字ポップアップ |
| 効果音 | 生成、増殖時の心地よいサウンド |
| ステージ進行 | 難易度が上がる複数レベル |
| スコアシステム | ステージ間のパフォーマンス追跡 |

### P2: 磨き上げ（ストレッチ）

| 機能 | 説明 |
|------|------|
| 障害物 | 壁、回転バリア、敵の大砲 |
| ユニット種類 | 特殊能力を持つ異なるユニットクラス |
| アップグレード | ラン間の永続的な進行 |
| チャンピオン | Mob Controlのチャンピオンシステムのような特殊ユニット |

---

## 開発フェーズ

### フェーズ1: Hello Game World

**目標**: 画面上で何かが動く状態にする

- [ ] Unity 6 LTSプロジェクトを2D (URP)テンプレートでセットアップ
- [ ] シンプルな図形（「ユニット」）を描画
- [ ] 画面上で動かす
- [ ] Unity Editorのプレイモードでテスト

**成功基準**: 画面上で丸が動いているのが見える

---

### フェーズ2: 大砲とスポーン

**目標**: プレイヤーがユニットを生成できる

- [ ] 画面下部に大砲スプライトを作成
- [ ] タップ/長押し入力を検出（Input System）
- [ ] オブジェクトプーリングで大砲の位置にユニットを生成
- [ ] ユニットが自動で上に移動（Rigidbody2Dのvelocity）

**成功基準**: 画面タップ → ユニットが出現して上に移動

---

### フェーズ3: 乗算ゲート

**目標**: ユニットが増殖できる

- [ ] 乗算値を持つゲートオブジェクトを作成
- [ ] ユニットとゲートの衝突を検出（Collider2Dトリガー）
- [ ] 衝突時に追加ユニットを生成
- [ ] 視覚的フィードバック（数字ポップアップ、パーティクル効果）

**成功基準**: 1ユニットが×2ゲートに入る → 2ユニットが出てくる

---

### フェーズ4: 敵基地と勝利条件

**目標**: ゲームに目標がある

- [ ] 画面上部に敵基地を作成
- [ ] ユニットが当たるとHPが減少
- [ ] 基地に当たったユニットは消える
- [ ] HPが0になったら勝利画面

**成功基準**: 実際にレベルを「クリア」できる

---

### フェーズ5: 基本ゲームループ

**目標**: リスタート可能なプレイアブルゲーム

- [ ] リソース制限を追加（例：生成数やタイマー）
- [ ] リソース切れで基地が残っていたら敗北
- [ ] リスタートボタン
- [ ] 基本UI（HPバー、残り生成数）

**成功基準**: スタート → 勝敗 → リスタートの完全なゲームループ

---

### フェーズ6: ステージシステム

**目標**: 複数レベルをプレイ可能

- [ ] ステージデータフォーマット（ScriptableObjectまたはJSON）
- [ ] ステージ1: チュートリアル（簡単）
- [ ] ステージ2-5: 段階的な難易度上昇
- [ ] ステージ選択画面

**成功基準**: 5つの異なるステージをプレイできる

---

### フェーズ7: 磨き上げとエフェクト

**目標**: プレイして気持ちいいものにする

- [ ] 衝撃時のパーティクルエフェクト（Unity Particle System）
- [ ] 大きな乗算時の画面揺れ
- [ ] 効果音（Unity Audio）
- [ ] スムーズなアニメーション
- [ ] モバイルビルドテスト（iOS/Android）

**成功基準**: 友達が「これ実際に面白い」と言う

---

## 技術的な決定事項

これらは別の計画ファイルに記録：

1. **技術スタック選定** → `01_tech_stack_selection.md`
   - 決定: Unity 6 LTS + C#

2. **ユニット移動と物理** → `02_basic_unit_movement.md`
   - Unity Physics 2D、Rigidbody2D、オブジェクトプーリング

3. **乗算ゲート** → `03_multiplier_gates.md`
   - ゲートの仕組み、Collider2Dトリガー、ユニット生成ロジック

4. **敵基地** → `04_enemy_base.md`
   - 基地HPシステム、ユニット衝突処理

5. **ステージデータフォーマット** → `05_stage_system.md`
   - ステージ設定の定義と読み込み方法

---

## 心配している技術的課題

| 課題 | 懸念 | 解決策の候補 |
|------|------|-------------|
| 多数ユニットのパフォーマンス | 100体以上のスプライトでラグるかも | オブジェクトプーリング（Unity ObjectPool）、空間ハッシュ |
| 衝突検出 | N²の比較 = 遅い | UnityがPhysics2Dレイヤーで処理 |
| 「ゲームフィール」 | Webエンジニアであってゲームデザイナーじゃない | Mob Controlがやっていることをコピー、フィードバックで改善 |
| モバイルパフォーマンス | ネイティブパフォーマンスが必要 | UnityがネイティブiOS/Androidにコンパイル |
| スコープクリープ | 「もう一つだけ機能追加」したくなる | P0に集中、まず出す |

---

## 成功の姿

### 最小限の実行可能なゲーム（週末4-6回分）

- iOS/Androidでプレイ可能
- 5ステージ
- コアループ：生成 → 増殖 → 基地破壊
- TestFlight / 内部テストビルド

### ストレッチゴール（燃え尽きなければ）

- App Store / Google Playリリース
- リーダーボード
- ユニット種類追加
- レベルエディタ

---

## ゲーム開発にPlan Stackを使う理由

初めてゲーム開発に挑戦するWebデベロッパーとして：

| 問題 | Plan Stackがどう助けるか |
|------|------------------------|
| 「どこから始めればいい？」 | フェーズ分けされたロードマップが分解 |
| 「ゲームアーキテクチャがわからない」 | 各計画が決定を記録 |
| 「先週末何やったか忘れた」 | 計画 = 永続的なメモリ |
| 「AIが過剰設計を提案」 | 計画がスコープを制限 |
| 「全部の機能を追加したい」 | P0/P1/P2の優先度付け |

---

## メモ

- すべての計画はClaude Codeのプランモードで作成
- これは初めてのゲーム、ミスは起きる
- 「完璧」より「プレイ可能」を優先
- 何がうまくいくか学びながら計画を更新

---

## インスピレーション・参考

### 主要参考

- **Mob Control** by Voodoo/Mambo Studio
  - [App Store](https://apps.apple.com/us/app/mob-control/id1562817072)
  - [Google Play](https://play.google.com/store/apps/details?id=com.vincentb.MobControl)
  - [MAF Analysis](https://maf.ad/en/blog/mob-control-analysis-hybrid-casual/)
  - [Gamigion Playbook](https://www.gamigion.com/from-hyper-to-hybrid-casual-mob-control-playbook/)

### 類似ゲーム

- **Crowd City** by Voodoo - 似た群衆メカニクス
- **Hole.io** by Voodoo - シンプルな操作、満足感のある成長

---

## 設計修正履歴

### 2025-01-17: コアメカニクスの修正

**問題**: Phase 1-5を実装後、ゲームが「面白くない」というフィードバック。
クリックするだけで戦略性がなく、Mob Controlとは異なるゲーム性になっていた。

**原因調査**:
- 当初の設計では「静的な敵基地」にユニットを当てる仕様だった
- Mob Controlの実際のゲーム性を再調査した結果、以下が判明：
  - 赤い敵ユニットが敵タワーから向かってくる
  - 青1体 vs 赤1体 で相殺する戦闘システム
  - プレイヤーはキャノンの向きを操作して狙いを定める
  - 数で押し勝つ駆け引きがコア体験

**修正内容**:
1. コアループ図を修正（双方向の戦闘）
2. P0に「キャノン操作」「赤い敵」「1v1相殺」を追加
3. 実装計画 `06_core_combat_mechanics.md` を新規作成

**学び**:
- リファレンスゲームの表面的な理解で設計すると、コア体験を見逃す
- MVPでも「面白さ」の核となる要素は省略してはいけない
- Plan Stackでは設計の誤りも記録として残すことで、同じ間違いを防げる

---

*最終更新: 2025年1月*
*情報はWeb検索で検証済み*
